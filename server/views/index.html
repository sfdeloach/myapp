{{template "partials/header" .}}

<main class="flex-grow">
    <form class="container" action="/contacts" method="get">
        <label for="search">Search Term</label>
        <input class="input" class="form-input" id="search" type="search" name="q" value="{{.QueryParam}}" />
        <button class="btn btn--primary" type="submit">Search</button>
    </form>

    <table class="container">
        <thead>
            <tr>
                <th>First</th>
                <th>Last</th>
                <th>Phone</th>
                <th>Email</th>
            </tr>
        </thead>
        <tbody>
            {{range .Contacts}}
            <tr>
                <td>{{.First}}</th>
                <td>{{.Last}}</td>
                <td>{{formatPhone .Phone}}</td>
                <td>{{.Email}}</td>
                <td>
                    <a class="btn btn--secondary" href="/contacts/{{.ID}}/edit">edit</a>
                    <a class="btn btn--secondary" href="/contacts/{{.ID}}">view</a>
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
    <p>
        <a class="btn btn--primary" href="/contacts/new">Add Contact</a>
    </p>
</main>

{{template "partials/footer" .}}